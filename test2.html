<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whitelist un joueur</title>
</head>
<body>
    <h2>Formulaire de Whitelist</h2>
    <form id="whitelistForm">
        <label for="requestId">Request ID du joueur :</label><br>
        <input type="text" id="requestId" name="requestId" required><br><br>
        <input type="submit" value="Whitelister">
    </form>
    <div id="responseMessage"></div>

    <script>
        document.getElementById("whitelistForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Empêche le rechargement de la page

            let requestId = document.getElementById("requestId").value;

            // Le webhook URL de ton bot Discord
            const webhookUrl = "https://discord.com/api/webhooks/1276508296987279473/XpCmE2ItKbpNQvrgBKdAm9f7gmDIND55aSZj6RrokML-1C56TJlFTajQstjkqPy8TrUu";

            // Le message qui sera envoyé au webhook
            const message = {
                "content": "/whitelist request id: TEST123"
            };

            // Envoi du message au webhook
            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(message)
            })
            .then(response => {
                if (response.ok) {
                    document.getElementById("responseMessage").textContent = "Le joueur a été whitelisted avec succès!";
                } else {
                    document.getElementById("responseMessage").textContent = "Erreur lors de la whitelisting.";
                }
            })
            .catch((error) => {
                console.error('Erreur:', error);
                document.getElementById("responseMessage").textContent = "Erreur lors de la whitelisting.";
            });
        });
    </script>
</body>
</html>
